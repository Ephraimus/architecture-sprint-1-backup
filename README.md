# Задание 1

## Разделение проекта Mesto на микрофронтенды
Этот файл содержит:
- **Проблемы текущего подхода** и обоснование необходимости перехода.
- **Преимущества микрофронтендов** с точки зрения бизнеса.
- **Подробный план перехода и обоснование выбора** с фазами и шагами.

Этот документ поможет убедить бизнес в том, что переход на микрофронтенды улучшит разработку, масштабируемость и надёжность приложения.

### 1. Проблемы текущего подхода

#### 1. **Монолитная структура**:
- Все компоненты связаны между собой, что затрудняет разработку и масштабирование.
- Изменение одной части системы часто затрагивает другие, что приводит к сложностям при тестировании и развертывании.

#### 2. **Сложности с поддержкой и обновлением**:
- Обновление системы требует полной пересборки и развертывания всего приложения.
- Командам трудно работать параллельно над разными частями приложения без конфликтов.

#### 3. **Медленная разработка и развертывание**:
- Каждый новый релиз требует длительных проверок из-за тесной связи компонентов.
- Высокий риск ошибок при внесении изменений.

---


### 2. Преимущества дробления на микрофронтенды

#### 1. **Ускорение разработки и обновлений**
- Независимые микрофронтенды позволяют быстрее выпускать обновления без риска затронуть другие части системы.
- Команды могут работать параллельно над разными модулями, минимизируя зависимости.

#### 2. **Гибкость и масштабируемость**
- Легко добавлять или изменять функционал без остановки всего приложения.
- Проще масштабировать конкретные модули в зависимости от нагрузки.

#### 3. **Повышение стабильности и надежности**
- Отказ одного микрофронтенда не приводит к падению всего приложения.
- Модули изолированы, что снижает влияние ошибок и упрощает тестирование.

#### 4. **Оптимизация производительности**
- Ленивая загрузка модулей снижает время загрузки приложения.
- Общие компоненты загружаются только один раз и переиспользуются между модулями.

---

#### 3. Обоснование выбранных технологий
##### React
React выбран как основной фреймворк для микрофронтендов по следующим причинам:
- **Экспертиза команды**: Предположим что имеем слаженную команду React разработчиков, выбор моно-фреймворка на текущем этапе повысит скорость разработки и качество/безопасноть решения.
- **Широкая экосистема**: Доступ к большому числу библиотек и готовых решений.
- **Компонентный подход**: Упрощает создание и переиспользование UI-компонентов.

##### Паттерн: **Module Federation**
Использование **Module Federation** обеспечивает:
- **Независимое развертывание**: Каждый модуль можно обновлять и разворачивать независимо.
- **Шаринг зависимостей**: Общие библиотеки не дублируются между модулями.
- **Динамическая загрузка**: Загружаются только необходимые компоненты, что ускоряет время загрузки.

---

#### Проектирование микрофтонтендов
Для проекта Mesto мы применили подход **Domain-Driven Design (DDD)** и выделили следующие домены/микроприложения:

| Модуль                       | Описание                                    | Каталог/Репозиторий |
|------------------------------|----------------------------------------------|---------------------|
| **Авторизация (Auth)**       | Управление входом, регистрацией и сессиями | `auth/`             |
| **Профиль (Profile)**        | Создание и редактирование профиля          | `profile/`          |
| **Фото-менеджмент (Photos)** | Загрузка и удаление фотографий   | `photos/`           |
| **Лайки (Likes)**            | Учёт и отображение лайков                | `likes/`            |
| **Агрегация (Root)**         | Объединение микрофронтендов в единое приложение | `root/`             |


1. **Авторизация (Auth):**  
   Включает логику регистрации, входа, выхода и управление сессиями. Модуль выделен для обеспечения безопасности и переиспользования в других приложениях.

2. **Профиль (Profile):**  
   Отвечает за управление личными данными пользователя. Отдельный микрофронтенд упрощает разработку и интеграцию с другими сервисами.

3. **Фото-менеджмент (Photos):**  
   Содержит функционал загрузки и удаления фотографий. Выделен для улучшения масштабируемости и независимого развития.

4. **Лайки (Likes):**  
   Управляет лайками и статистикой. Разделение позволяет переиспользовать логику в других проектах.

5. **Root-приложение:**  
   Связывает все микрофронтенды, отвечает за маршрутизацию и общие состояния.

Также нагрузка на бекенд авторизации, статистики, работы с фоотографиями обычно довольно велика,и этод подход позволит выделить все (в том числе и бекенды в будущем) в отдельные изолированные сервисы.


#### Выбор методов взаимодействия микрофтонтендов
В качестве способа коммуникации был выбран Rest API подход, как наиболее простой и понятный способ для внедрения.
REST API обеспечивает модульную структуру и изоляцию логики, легко настраивается благодаря стандартным HTTP-запросам, поддерживает совместимость с другими сервисами и упрощает масштабирование, устраняя зависимости от состояния в браузере.

---


#### Планирование процесса разработки:
Так как проект обучающий, и команда гипотетическая, план будет сформирован без учета временных затрат:
Считаю правильным разбить разработку на 3 этапа:
1. Подготовка и планирование:
    - Создание репозиториев, инфраструктуры
    - Описание контрактов и взаимодействий (UML) для разработчиков
    - Распределение разработчиков по модулям, так как контракты разработаны и модули изолированы
2. Разработка
    - Создание базовых версий микрофронтендов, c минимальной фукнциональностью(заглушек)
    - Настройка Module Federation
    - Разработка основного функционала модулей (разработка модулей ведется параллельно разными разработчиками)
    - Интеграция и проверка Rest API для обмена данными между модулями, возможно уточнение контрактов
3. Тестирование и развертывание:
    - Разработка интеграционных тестов для проверки взаимодействия модулей
    - Настройка CI/CD

# Задание 2
[Схема декомпозиции микросервисов](./microservices_1.2.drawio)